(()=>{var e={};e.id=16,e.ids=[16],e.modules={643:e=>{"use strict";e.exports=require("node:perf_hooks")},1708:e=>{"use strict";e.exports=require("node:process")},2154:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>w});var s=t(60687),o=t(43210),i=t(27605),a=t(63442),n=t(45880),l=t(81754),d=t(11516),c=t(29523),u=t(44493),m=t(80942),p=t(89667),x=t(15079),h=t(4780);let f=o.forwardRef(({className:e,...r},t)=>(0,s.jsx)("textarea",{className:(0,h.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:t,...r}));f.displayName="Textarea";var b=t(87979),j=t(29867),g=t(75535),y=t(66639);let q=["A+","A-","B+","B-","AB+","AB-","O+","O-"],v=["low","medium","high"],N=n.z.object({patientName:n.z.string().min(3,{message:"Patient name must be at least 3 characters."}),requesterName:n.z.string().min(3,{message:"Requester name must be at least 3 characters."}),bloodGroup:n.z.enum(q,{required_error:"Blood group is required."}),location:n.z.string().min(3,{message:"Location must be at least 3 characters."}),hospitalName:n.z.string().optional(),contactInfo:n.z.string().min(5,{message:"Valid contact information is required."}),urgency:n.z.enum(v,{required_error:"Urgency level is required."}),notes:n.z.string().max(500,{message:"Notes cannot exceed 500 characters."}).optional()});function w(){let{user:e,userProfile:r}=(0,b.A)(),{toast:t}=(0,j.dj)(),[n,h]=(0,o.useState)(!1),w=(0,i.mN)({resolver:(0,a.u)(N),defaultValues:{patientName:"",requesterName:"",bloodGroup:void 0,location:"",hospitalName:"",contactInfo:"",urgency:void 0,notes:""}});async function R(s){if(!e){t({title:"Authentication Required",description:"You must be logged in to submit a blood request.",variant:"destructive"});return}h(!0);try{await (0,g.gS)((0,g.rJ)(y.db,"bloodRequests"),{...s,hospitalName:s.hospitalName||null,notes:s.notes||null,requesterUid:e.uid,createdAt:(0,g.O5)(),status:"open"}),t({title:"Request Submitted",description:"Your blood request has been successfully submitted."}),w.reset({patientName:"",requesterName:r?.name||"",bloodGroup:void 0,location:r?.location||"",hospitalName:"",contactInfo:r?.contactNumber||"",urgency:void 0,notes:""})}catch(e){console.error("Error submitting blood request:",e),t({title:"Submission Failed",description:"There was an error submitting your request. Please try again.",variant:"destructive"})}finally{h(!1)}}return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("section",{className:"text-center py-8 animate-fade-in-up",children:[(0,s.jsx)(l.A,{className:"mx-auto h-12 w-12 text-primary mb-4"}),(0,s.jsxs)("h1",{className:"text-4xl font-bold tracking-tight text-foreground",children:["Request ",(0,s.jsx)("span",{className:"text-primary",children:"Blood"})]}),(0,s.jsx)("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-muted-foreground",children:"Fill out the form below to submit a blood request to our network of donors."})]}),(0,s.jsx)("section",{className:"animate-fade-in-up-delayed-1",children:(0,s.jsxs)(u.Zp,{className:"max-w-2xl mx-auto shadow-lg",children:[(0,s.jsxs)(u.aR,{children:[(0,s.jsx)(u.ZB,{children:"Blood Request Form"}),(0,s.jsx)(u.BT,{children:"Please provide accurate details to help us find a suitable donor quickly."})]}),(0,s.jsx)(u.Wu,{children:(0,s.jsx)(m.lV,{...w,children:(0,s.jsxs)("form",{onSubmit:w.handleSubmit(R),className:"space-y-6",children:[(0,s.jsx)(m.zB,{control:w.control,name:"patientName",render:({field:e})=>(0,s.jsxs)(m.eI,{children:[(0,s.jsx)(m.lR,{children:"Patient's Full Name"}),(0,s.jsx)(m.MJ,{children:(0,s.jsx)(p.p,{placeholder:"e.g., John Doe",...e})}),(0,s.jsx)(m.C5,{})]})}),(0,s.jsx)(m.zB,{control:w.control,name:"requesterName",render:({field:e})=>(0,s.jsxs)(m.eI,{children:[(0,s.jsx)(m.lR,{children:"Your Full Name (Requester)"}),(0,s.jsx)(m.MJ,{children:(0,s.jsx)(p.p,{placeholder:"e.g., Jane Smith",...e})}),(0,s.jsx)(m.Rr,{children:"This is your name, as the person making the request."}),(0,s.jsx)(m.C5,{})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsx)(m.zB,{control:w.control,name:"bloodGroup",render:({field:e})=>(0,s.jsxs)(m.eI,{children:[(0,s.jsx)(m.lR,{children:"Required Blood Group"}),(0,s.jsxs)(x.l6,{onValueChange:e.onChange,defaultValue:e.value,children:[(0,s.jsx)(m.MJ,{children:(0,s.jsx)(x.bq,{children:(0,s.jsx)(x.yv,{placeholder:"Select blood group"})})}),(0,s.jsx)(x.gC,{children:q.map(e=>(0,s.jsx)(x.eb,{value:e,children:e},e))})]}),(0,s.jsx)(m.C5,{})]})}),(0,s.jsx)(m.zB,{control:w.control,name:"urgency",render:({field:e})=>(0,s.jsxs)(m.eI,{children:[(0,s.jsx)(m.lR,{children:"Urgency Level"}),(0,s.jsxs)(x.l6,{onValueChange:e.onChange,defaultValue:e.value,children:[(0,s.jsx)(m.MJ,{children:(0,s.jsx)(x.bq,{children:(0,s.jsx)(x.yv,{placeholder:"Select urgency"})})}),(0,s.jsx)(x.gC,{children:v.map(e=>(0,s.jsx)(x.eb,{value:e,className:"capitalize",children:e},e))})]}),(0,s.jsx)(m.C5,{})]})})]}),(0,s.jsx)(m.zB,{control:w.control,name:"location",render:({field:e})=>(0,s.jsxs)(m.eI,{children:[(0,s.jsx)(m.lR,{children:"Location (Area/City)"}),(0,s.jsx)(m.MJ,{children:(0,s.jsx)(p.p,{placeholder:"e.g., Dhanmondi, Dhaka",...e})}),(0,s.jsx)(m.C5,{})]})}),(0,s.jsx)(m.zB,{control:w.control,name:"hospitalName",render:({field:e})=>(0,s.jsxs)(m.eI,{children:[(0,s.jsx)(m.lR,{children:"Hospital Name (Optional)"}),(0,s.jsx)(m.MJ,{children:(0,s.jsx)(p.p,{placeholder:"e.g., Dhaka Medical College Hospital",...e})}),(0,s.jsx)(m.C5,{})]})}),(0,s.jsx)(m.zB,{control:w.control,name:"contactInfo",render:({field:e})=>(0,s.jsxs)(m.eI,{children:[(0,s.jsx)(m.lR,{children:"Your Contact Information"}),(0,s.jsx)(m.MJ,{children:(0,s.jsx)(p.p,{placeholder:"e.g., 017XX-XXXXXX or email@example.com",...e})}),(0,s.jsx)(m.Rr,{children:"A phone number or email where donors can reach you."}),(0,s.jsx)(m.C5,{})]})}),(0,s.jsx)(m.zB,{control:w.control,name:"notes",render:({field:e})=>(0,s.jsxs)(m.eI,{children:[(0,s.jsx)(m.lR,{children:"Additional Notes (Optional)"}),(0,s.jsx)(m.MJ,{children:(0,s.jsx)(f,{placeholder:"Any other relevant information, e.g., patient condition, specific timing needs (max 500 characters).",className:"resize-none",...e})}),(0,s.jsx)(m.C5,{})]})}),(0,s.jsxs)(c.$,{type:"submit",disabled:n,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",children:[n&&(0,s.jsx)(d.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Submit Request"]})]})})})]})})]})}},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4573:e=>{"use strict";e.exports=require("node:buffer")},7117:(e,r,t)=>{Promise.resolve().then(t.bind(t,2154))},7252:e=>{"use strict";e.exports=require("express")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},15079:(e,r,t)=>{"use strict";t.d(r,{bq:()=>m,eb:()=>f,gC:()=>h,l6:()=>c,yv:()=>u});var s=t(60687),o=t(43210),i=t(99952),a=t(61662),n=t(89743),l=t(58450),d=t(4780);let c=i.bL;i.YJ;let u=i.WT,m=o.forwardRef(({className:e,children:r,...t},o)=>(0,s.jsxs)(i.l9,{ref:o,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...t,children:[r,(0,s.jsx)(i.In,{asChild:!0,children:(0,s.jsx)(a.A,{className:"h-4 w-4 opacity-50"})})]}));m.displayName=i.l9.displayName;let p=o.forwardRef(({className:e,...r},t)=>(0,s.jsx)(i.PP,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...r,children:(0,s.jsx)(n.A,{className:"h-4 w-4"})}));p.displayName=i.PP.displayName;let x=o.forwardRef(({className:e,...r},t)=>(0,s.jsx)(i.wn,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...r,children:(0,s.jsx)(a.A,{className:"h-4 w-4"})}));x.displayName=i.wn.displayName;let h=o.forwardRef(({className:e,children:r,position:t="popper",...o},a)=>(0,s.jsx)(i.ZL,{children:(0,s.jsxs)(i.UC,{ref:a,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===t&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:t,...o,children:[(0,s.jsx)(p,{}),(0,s.jsx)(i.LM,{className:(0,d.cn)("p-1","popper"===t&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,s.jsx)(x,{})]})}));h.displayName=i.UC.displayName,o.forwardRef(({className:e,...r},t)=>(0,s.jsx)(i.JU,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...r})).displayName=i.JU.displayName;let f=o.forwardRef(({className:e,children:r,...t},o)=>(0,s.jsxs)(i.q7,{ref:o,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(i.VF,{children:(0,s.jsx)(l.A,{className:"h-4 w-4"})})}),(0,s.jsx)(i.p4,{children:r})]}));f.displayName=i.q7.displayName,o.forwardRef(({className:e,...r},t)=>(0,s.jsx)(i.wv,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...r})).displayName=i.wv.displayName},16141:e=>{"use strict";e.exports=require("node:zlib")},16698:e=>{"use strict";e.exports=require("node:async_hooks")},19063:e=>{"use strict";e.exports=require("require-in-the-middle")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},25677:(e,r,t)=>{Promise.resolve().then(t.bind(t,65380))},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},37067:e=>{"use strict";e.exports=require("node:http")},37366:e=>{"use strict";e.exports=require("dns")},37830:e=>{"use strict";e.exports=require("node:stream/web")},44708:e=>{"use strict";e.exports=require("node:https")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},56801:e=>{"use strict";e.exports=require("import-in-the-middle")},57075:e=>{"use strict";e.exports=require("node:stream")},57975:e=>{"use strict";e.exports=require("node:util")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},65380:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/studio/src/app/(main)/request-blood/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/app/(main)/request-blood/page.tsx","default")},72908:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>a.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=t(65239),o=t(48088),i=t(88170),a=t.n(i),n=t(30893),l={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);t.d(r,l);let d={children:["",{children:["(main)",{children:["request-blood",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,65380)),"/home/user/studio/src/app/(main)/request-blood/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,60448)),"/home/user/studio/src/app/(main)/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,94431)),"/home/user/studio/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/home/user/studio/src/app/(main)/request-blood/page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/(main)/request-blood/page",pathname:"/request-blood",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},73024:e=>{"use strict";e.exports=require("node:fs")},73136:e=>{"use strict";e.exports=require("node:url")},73496:e=>{"use strict";e.exports=require("http2")},73566:e=>{"use strict";e.exports=require("worker_threads")},74075:e=>{"use strict";e.exports=require("zlib")},74998:e=>{"use strict";e.exports=require("perf_hooks")},76760:e=>{"use strict";e.exports=require("node:path")},77030:e=>{"use strict";e.exports=require("node:net")},77598:e=>{"use strict";e.exports=require("node:crypto")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},79748:e=>{"use strict";e.exports=require("fs/promises")},80942:(e,r,t)=>{"use strict";t.d(r,{lV:()=>u,MJ:()=>j,Rr:()=>g,zB:()=>p,eI:()=>f,lR:()=>b,C5:()=>y});var s=t(60687),o=t(43210),i=t(8730),a=t(27605),n=t(4780),l=t(78148);let d=(0,t(24224).F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=o.forwardRef(({className:e,...r},t)=>(0,s.jsx)(l.b,{ref:t,className:(0,n.cn)(d(),e),...r}));c.displayName=l.b.displayName;let u=a.Op,m=o.createContext({}),p=({...e})=>(0,s.jsx)(m.Provider,{value:{name:e.name},children:(0,s.jsx)(a.xI,{...e})}),x=()=>{let e=o.useContext(m),r=o.useContext(h),{getFieldState:t,formState:s}=(0,a.xW)(),i=t(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=r;return{id:n,name:e.name,formItemId:`${n}-form-item`,formDescriptionId:`${n}-form-item-description`,formMessageId:`${n}-form-item-message`,...i}},h=o.createContext({}),f=o.forwardRef(({className:e,...r},t)=>{let i=o.useId();return(0,s.jsx)(h.Provider,{value:{id:i},children:(0,s.jsx)("div",{ref:t,className:(0,n.cn)("space-y-2",e),...r})})});f.displayName="FormItem";let b=o.forwardRef(({className:e,...r},t)=>{let{error:o,formItemId:i}=x();return(0,s.jsx)(c,{ref:t,className:(0,n.cn)(o&&"text-destructive",e),htmlFor:i,...r})});b.displayName="FormLabel";let j=o.forwardRef(({...e},r)=>{let{error:t,formItemId:o,formDescriptionId:a,formMessageId:n}=x();return(0,s.jsx)(i.DX,{ref:r,id:o,"aria-describedby":t?`${a} ${n}`:`${a}`,"aria-invalid":!!t,...e})});j.displayName="FormControl";let g=o.forwardRef(({className:e,...r},t)=>{let{formDescriptionId:o}=x();return(0,s.jsx)("p",{ref:t,id:o,className:(0,n.cn)("text-sm text-muted-foreground",e),...r})});g.displayName="FormDescription";let y=o.forwardRef(({className:e,children:r,...t},o)=>{let{error:i,formMessageId:a}=x(),l=i?String(i?.message??""):r;return l?(0,s.jsx)("p",{ref:o,id:a,className:(0,n.cn)("text-sm font-medium text-destructive",e),...t,children:l}):null});y.displayName="FormMessage"},81630:e=>{"use strict";e.exports=require("http")},84297:e=>{"use strict";e.exports=require("async_hooks")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[447,817,603,987,758,239,87,828],()=>t(72908));module.exports=s})();