(()=>{var e={};e.id=547,e.ids=[547],e.modules={643:e=>{"use strict";e.exports=require("node:perf_hooks")},1708:e=>{"use strict";e.exports=require("node:process")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4458:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>a.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=t(65239),i=t(48088),o=t(88170),a=t.n(o),n=t(30893),l={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);t.d(r,l);let d={children:["",{children:["(main)",{children:["donate",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,72037)),"/home/user/studio/src/app/(main)/donate/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,60448)),"/home/user/studio/src/app/(main)/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,94431)),"/home/user/studio/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/home/user/studio/src/app/(main)/donate/page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/(main)/donate/page",pathname:"/donate",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4573:e=>{"use strict";e.exports=require("node:buffer")},6368:(e,r,t)=>{Promise.resolve().then(t.bind(t,72037))},7252:e=>{"use strict";e.exports=require("express")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14975:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(82614).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},15079:(e,r,t)=>{"use strict";t.d(r,{bq:()=>m,eb:()=>f,gC:()=>h,l6:()=>c,yv:()=>u});var s=t(60687),i=t(43210),o=t(99952),a=t(61662),n=t(89743),l=t(58450),d=t(4780);let c=o.bL;o.YJ;let u=o.WT,m=i.forwardRef(({className:e,children:r,...t},i)=>(0,s.jsxs)(o.l9,{ref:i,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...t,children:[r,(0,s.jsx)(o.In,{asChild:!0,children:(0,s.jsx)(a.A,{className:"h-4 w-4 opacity-50"})})]}));m.displayName=o.l9.displayName;let p=i.forwardRef(({className:e,...r},t)=>(0,s.jsx)(o.PP,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...r,children:(0,s.jsx)(n.A,{className:"h-4 w-4"})}));p.displayName=o.PP.displayName;let x=i.forwardRef(({className:e,...r},t)=>(0,s.jsx)(o.wn,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...r,children:(0,s.jsx)(a.A,{className:"h-4 w-4"})}));x.displayName=o.wn.displayName;let h=i.forwardRef(({className:e,children:r,position:t="popper",...i},a)=>(0,s.jsx)(o.ZL,{children:(0,s.jsxs)(o.UC,{ref:a,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===t&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:t,...i,children:[(0,s.jsx)(p,{}),(0,s.jsx)(o.LM,{className:(0,d.cn)("p-1","popper"===t&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,s.jsx)(x,{})]})}));h.displayName=o.UC.displayName,i.forwardRef(({className:e,...r},t)=>(0,s.jsx)(o.JU,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...r})).displayName=o.JU.displayName;let f=i.forwardRef(({className:e,children:r,...t},i)=>(0,s.jsxs)(o.q7,{ref:i,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(o.VF,{children:(0,s.jsx)(l.A,{className:"h-4 w-4"})})}),(0,s.jsx)(o.p4,{children:r})]}));f.displayName=o.q7.displayName,i.forwardRef(({className:e,...r},t)=>(0,s.jsx)(o.wv,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...r})).displayName=o.wv.displayName},16141:e=>{"use strict";e.exports=require("node:zlib")},16698:e=>{"use strict";e.exports=require("node:async_hooks")},19063:e=>{"use strict";e.exports=require("require-in-the-middle")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},35744:(e,r,t)=>{Promise.resolve().then(t.bind(t,76801))},37067:e=>{"use strict";e.exports=require("node:http")},37366:e=>{"use strict";e.exports=require("dns")},37830:e=>{"use strict";e.exports=require("node:stream/web")},44708:e=>{"use strict";e.exports=require("node:https")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},56801:e=>{"use strict";e.exports=require("import-in-the-middle")},57075:e=>{"use strict";e.exports=require("node:stream")},57975:e=>{"use strict";e.exports=require("node:util")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},72037:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/studio/src/app/(main)/donate/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/app/(main)/donate/page.tsx","default")},73024:e=>{"use strict";e.exports=require("node:fs")},73136:e=>{"use strict";e.exports=require("node:url")},73496:e=>{"use strict";e.exports=require("http2")},73566:e=>{"use strict";e.exports=require("worker_threads")},74075:e=>{"use strict";e.exports=require("zlib")},74998:e=>{"use strict";e.exports=require("perf_hooks")},76760:e=>{"use strict";e.exports=require("node:path")},76801:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>q});var s=t(60687),i=t(43210),o=t(85814),a=t.n(o),n=t(27605),l=t(63442),d=t(45880),c=t(14975);let u=(0,t(82614).A)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);var m=t(11516),p=t(9936),x=t(29523),h=t(44493),f=t(80942),j=t(89667),g=t(15079),b=t(87979),y=t(29867),v=t(71857);let N=["A+","A-","B+","B-","AB+","AB-","O+","O-"],w=d.z.object({name:d.z.string().min(3,{message:"Full name must be at least 3 characters."}),bloodGroup:d.z.enum(N,{required_error:"Blood group is required."}),location:d.z.string().min(3,{message:"Location must be at least 3 characters."}),contactNumber:d.z.string().min(10,{message:"Contact number must be at least 10 digits."}).regex(/^[0-9+-]+$/,{message:"Please enter a valid contact number."})});function q(){let{user:e,userProfile:r,loading:t,updateUserProfile:o}=(0,b.A)(),{toast:d}=(0,y.dj)(),[q,R]=(0,i.useState)(!1),C=(0,n.mN)({resolver:(0,l.u)(w),defaultValues:{name:"",bloodGroup:void 0,location:"",contactNumber:""}});async function P(r){if(!e){d({title:"Authentication Required",description:"You must be logged in to register as a donor.",variant:"destructive"});return}R(!0);try{await o({...r,isDonor:!0}),d({title:"Registration Successful!",description:"Thank you for becoming a blood donor."})}catch(e){console.error("Error registering donor:",e),d({title:"Registration Failed",description:"There was an error processing your registration. Please try again.",variant:"destructive"})}finally{R(!1)}}return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("section",{className:"text-center py-8 animate-fade-in-up",children:[(0,s.jsx)(p.A,{className:"mx-auto h-12 w-12 text-primary mb-4"}),(0,s.jsxs)("h1",{className:"text-4xl font-bold tracking-tight text-foreground",children:["Become a ",(0,s.jsx)("span",{className:"text-primary",children:"Donor"})]}),(0,s.jsx)("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-muted-foreground",children:"Join our community of life-savers by registering your details."})]}),(0,s.jsx)("section",{className:"animate-fade-in-up-delayed-1",children:t?(0,s.jsx)("div",{className:"flex justify-center items-center py-10",children:(0,s.jsx)(v.k,{size:32})}):e?r?.isDonor?(0,s.jsxs)(h.Zp,{className:"max-w-lg mx-auto shadow-lg text-center",children:[(0,s.jsxs)(h.aR,{children:[(0,s.jsx)(u,{className:"mx-auto h-12 w-12 text-green-500 mb-4"}),(0,s.jsx)(h.ZB,{children:"You are a Registered Donor!"})]}),(0,s.jsxs)(h.Wu,{children:[(0,s.jsx)("p",{className:"text-muted-foreground",children:"Thank you for your commitment to saving lives. Your donor information:"}),(0,s.jsxs)("ul",{className:"mt-4 text-left space-y-2 text-sm",children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Name:"})," ",r.name||"N/A"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Email:"})," ",e.email||"N/A"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Blood Group:"})," ",r.bloodGroup||"N/A"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Location:"})," ",r.location||"N/A"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Contact:"})," ",r.contactNumber||"N/A"]})]}),(0,s.jsx)(x.$,{asChild:!0,className:"mt-6",children:(0,s.jsx)(a(),{href:"/profile",children:"Update Profile"})})]})]}):(0,s.jsxs)(h.Zp,{className:"max-w-2xl mx-auto shadow-lg",children:[(0,s.jsxs)(h.aR,{children:[(0,s.jsx)(h.ZB,{children:"Donor Registration Form"}),(0,s.jsx)(h.BT,{children:"Please provide your accurate details. This information will be used to connect you with those in need of blood."})]}),(0,s.jsx)(h.Wu,{children:(0,s.jsx)(f.lV,{...C,children:(0,s.jsxs)("form",{onSubmit:C.handleSubmit(P),className:"space-y-6",children:[(0,s.jsx)(f.zB,{control:C.control,name:"name",render:({field:e})=>(0,s.jsxs)(f.eI,{children:[(0,s.jsx)(f.lR,{children:"Full Name"}),(0,s.jsx)(f.MJ,{children:(0,s.jsx)(j.p,{placeholder:"e.g., John Doe",...e})}),(0,s.jsx)(f.C5,{})]})}),(0,s.jsxs)(f.eI,{children:[(0,s.jsx)(f.lR,{children:"Email"}),(0,s.jsx)(f.MJ,{children:(0,s.jsx)(j.p,{type:"email",value:e.email||"",readOnly:!0,disabled:!0,className:"bg-muted/50"})}),(0,s.jsx)(f.Rr,{children:"Your email address (cannot be changed here)."})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsx)(f.zB,{control:C.control,name:"bloodGroup",render:({field:e})=>(0,s.jsxs)(f.eI,{children:[(0,s.jsx)(f.lR,{children:"Blood Group"}),(0,s.jsxs)(g.l6,{onValueChange:e.onChange,defaultValue:e.value,children:[(0,s.jsx)(f.MJ,{children:(0,s.jsx)(g.bq,{children:(0,s.jsx)(g.yv,{placeholder:"Select blood group"})})}),(0,s.jsx)(g.gC,{children:N.map(e=>(0,s.jsx)(g.eb,{value:e,children:e},e))})]}),(0,s.jsx)(f.C5,{})]})}),(0,s.jsx)(f.zB,{control:C.control,name:"location",render:({field:e})=>(0,s.jsxs)(f.eI,{children:[(0,s.jsx)(f.lR,{children:"Your Current Location (Area/City)"}),(0,s.jsx)(f.MJ,{children:(0,s.jsx)(j.p,{placeholder:"e.g., Dhanmondi, Dhaka",...e})}),(0,s.jsx)(f.C5,{})]})})]}),(0,s.jsx)(f.zB,{control:C.control,name:"contactNumber",render:({field:e})=>(0,s.jsxs)(f.eI,{children:[(0,s.jsx)(f.lR,{children:"Your Contact Number"}),(0,s.jsx)(f.MJ,{children:(0,s.jsx)(j.p,{placeholder:"e.g., 017XX-XXXXXX",...e})}),(0,s.jsx)(f.Rr,{children:"This number will be shared with blood requesters."}),(0,s.jsx)(f.C5,{})]})}),(0,s.jsxs)(x.$,{type:"submit",disabled:q,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",children:[q&&(0,s.jsx)(m.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Register as Donor"]})]})})})]}):(0,s.jsxs)(h.Zp,{className:"max-w-lg mx-auto shadow-lg text-center",children:[(0,s.jsx)(h.aR,{children:(0,s.jsx)(h.ZB,{children:"Become a Donor"})}),(0,s.jsxs)(h.Wu,{className:"space-y-4",children:[(0,s.jsx)(c.A,{className:"mx-auto h-12 w-12 text-primary mb-4"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"You need to be logged in to register as a blood donor."}),(0,s.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,s.jsx)(x.$,{asChild:!0,children:(0,s.jsx)(a(),{href:"/auth/login",children:"Login"})}),(0,s.jsx)(x.$,{variant:"outline",asChild:!0,children:(0,s.jsx)(a(),{href:"/auth/register",children:"Register"})})]})]})]})})]})}},77030:e=>{"use strict";e.exports=require("node:net")},77598:e=>{"use strict";e.exports=require("node:crypto")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},79748:e=>{"use strict";e.exports=require("fs/promises")},80942:(e,r,t)=>{"use strict";t.d(r,{lV:()=>u,MJ:()=>g,Rr:()=>b,zB:()=>p,eI:()=>f,lR:()=>j,C5:()=>y});var s=t(60687),i=t(43210),o=t(8730),a=t(27605),n=t(4780),l=t(78148);let d=(0,t(24224).F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=i.forwardRef(({className:e,...r},t)=>(0,s.jsx)(l.b,{ref:t,className:(0,n.cn)(d(),e),...r}));c.displayName=l.b.displayName;let u=a.Op,m=i.createContext({}),p=({...e})=>(0,s.jsx)(m.Provider,{value:{name:e.name},children:(0,s.jsx)(a.xI,{...e})}),x=()=>{let e=i.useContext(m),r=i.useContext(h),{getFieldState:t,formState:s}=(0,a.xW)(),o=t(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=r;return{id:n,name:e.name,formItemId:`${n}-form-item`,formDescriptionId:`${n}-form-item-description`,formMessageId:`${n}-form-item-message`,...o}},h=i.createContext({}),f=i.forwardRef(({className:e,...r},t)=>{let o=i.useId();return(0,s.jsx)(h.Provider,{value:{id:o},children:(0,s.jsx)("div",{ref:t,className:(0,n.cn)("space-y-2",e),...r})})});f.displayName="FormItem";let j=i.forwardRef(({className:e,...r},t)=>{let{error:i,formItemId:o}=x();return(0,s.jsx)(c,{ref:t,className:(0,n.cn)(i&&"text-destructive",e),htmlFor:o,...r})});j.displayName="FormLabel";let g=i.forwardRef(({...e},r)=>{let{error:t,formItemId:i,formDescriptionId:a,formMessageId:n}=x();return(0,s.jsx)(o.DX,{ref:r,id:i,"aria-describedby":t?`${a} ${n}`:`${a}`,"aria-invalid":!!t,...e})});g.displayName="FormControl";let b=i.forwardRef(({className:e,...r},t)=>{let{formDescriptionId:i}=x();return(0,s.jsx)("p",{ref:t,id:i,className:(0,n.cn)("text-sm text-muted-foreground",e),...r})});b.displayName="FormDescription";let y=i.forwardRef(({className:e,children:r,...t},i)=>{let{error:o,formMessageId:a}=x(),l=o?String(o?.message??""):r;return l?(0,s.jsx)("p",{ref:i,id:a,className:(0,n.cn)("text-sm font-medium text-destructive",e),...t,children:l}):null});y.displayName="FormMessage"},81630:e=>{"use strict";e.exports=require("http")},84297:e=>{"use strict";e.exports=require("async_hooks")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[447,817,603,987,758,239,87,828],()=>t(4458));module.exports=s})();