(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[16],{3003:(e,t,r)=>{Promise.resolve().then(r.bind(r,4482))},3402:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(157).A)("HeartHandshake",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"4oyue0"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]])},4482:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>q});var a=r(5155),s=r(2115),l=r(2177),n=r(221),o=r(5594),i=r(3402),d=r(172),c=r(285),u=r(6695),m=r(5937),x=r(2523),h=r(9409),p=r(9434);let f=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("textarea",{className:(0,p.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...s})});f.displayName="Textarea";var j=r(6681),g=r(7481),b=r(5317),y=r(2201);let N=["A+","A-","B+","B-","AB+","AB-","O+","O-"],v=["low","medium","high"],w=o.z.object({patientName:o.z.string().min(3,{message:"Patient name must be at least 3 characters."}),requesterName:o.z.string().min(3,{message:"Requester name must be at least 3 characters."}),bloodGroup:o.z.enum(N,{required_error:"Blood group is required."}),location:o.z.string().min(3,{message:"Location must be at least 3 characters."}),hospitalName:o.z.string().optional(),contactInfo:o.z.string().min(5,{message:"Valid contact information is required."}),urgency:o.z.enum(v,{required_error:"Urgency level is required."}),notes:o.z.string().max(500,{message:"Notes cannot exceed 500 characters."}).optional()});function q(){let{user:e,userProfile:t}=(0,j.A)(),{toast:r}=(0,g.dj)(),[o,p]=(0,s.useState)(!1),q=(0,l.mN)({resolver:(0,n.u)(w),defaultValues:{patientName:"",requesterName:"",bloodGroup:void 0,location:"",hospitalName:"",contactInfo:"",urgency:void 0,notes:""}});async function R(a){if(!e){r({title:"Authentication Required",description:"You must be logged in to submit a blood request.",variant:"destructive"});return}p(!0);try{await (0,b.gS)((0,b.rJ)(y.db,"bloodRequests"),{...a,hospitalName:a.hospitalName||null,notes:a.notes||null,requesterUid:e.uid,createdAt:(0,b.O5)(),status:"open"}),r({title:"Request Submitted",description:"Your blood request has been successfully submitted."}),q.reset({patientName:"",requesterName:(null==t?void 0:t.name)||"",bloodGroup:void 0,location:(null==t?void 0:t.location)||"",hospitalName:"",contactInfo:(null==t?void 0:t.contactNumber)||"",urgency:void 0,notes:""})}catch(e){console.error("Error submitting blood request:",e),r({title:"Submission Failed",description:"There was an error submitting your request. Please try again.",variant:"destructive"})}finally{p(!1)}}return(0,s.useEffect)(()=>{t&&q.reset({...q.getValues(),requesterName:t.name||"",contactInfo:t.contactNumber||q.getValues().contactInfo||"",location:t.location||q.getValues().location||""})},[t,q]),(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("section",{className:"text-center py-8 animate-fade-in-up",children:[(0,a.jsx)(i.A,{className:"mx-auto h-12 w-12 text-primary mb-4"}),(0,a.jsxs)("h1",{className:"text-4xl font-bold tracking-tight text-foreground",children:["Request ",(0,a.jsx)("span",{className:"text-primary",children:"Blood"})]}),(0,a.jsx)("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-muted-foreground",children:"Fill out the form below to submit a blood request to our network of donors."})]}),(0,a.jsx)("section",{className:"animate-fade-in-up-delayed-1",children:(0,a.jsxs)(u.Zp,{className:"max-w-2xl mx-auto shadow-lg",children:[(0,a.jsxs)(u.aR,{children:[(0,a.jsx)(u.ZB,{children:"Blood Request Form"}),(0,a.jsx)(u.BT,{children:"Please provide accurate details to help us find a suitable donor quickly."})]}),(0,a.jsx)(u.Wu,{children:(0,a.jsx)(m.lV,{...q,children:(0,a.jsxs)("form",{onSubmit:q.handleSubmit(R),className:"space-y-6",children:[(0,a.jsx)(m.zB,{control:q.control,name:"patientName",render:e=>{let{field:t}=e;return(0,a.jsxs)(m.eI,{children:[(0,a.jsx)(m.lR,{children:"Patient's Full Name"}),(0,a.jsx)(m.MJ,{children:(0,a.jsx)(x.p,{placeholder:"e.g., John Doe",...t})}),(0,a.jsx)(m.C5,{})]})}}),(0,a.jsx)(m.zB,{control:q.control,name:"requesterName",render:e=>{let{field:t}=e;return(0,a.jsxs)(m.eI,{children:[(0,a.jsx)(m.lR,{children:"Your Full Name (Requester)"}),(0,a.jsx)(m.MJ,{children:(0,a.jsx)(x.p,{placeholder:"e.g., Jane Smith",...t})}),(0,a.jsx)(m.Rr,{children:"This is your name, as the person making the request."}),(0,a.jsx)(m.C5,{})]})}}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsx)(m.zB,{control:q.control,name:"bloodGroup",render:e=>{let{field:t}=e;return(0,a.jsxs)(m.eI,{children:[(0,a.jsx)(m.lR,{children:"Required Blood Group"}),(0,a.jsxs)(h.l6,{onValueChange:t.onChange,defaultValue:t.value,children:[(0,a.jsx)(m.MJ,{children:(0,a.jsx)(h.bq,{children:(0,a.jsx)(h.yv,{placeholder:"Select blood group"})})}),(0,a.jsx)(h.gC,{children:N.map(e=>(0,a.jsx)(h.eb,{value:e,children:e},e))})]}),(0,a.jsx)(m.C5,{})]})}}),(0,a.jsx)(m.zB,{control:q.control,name:"urgency",render:e=>{let{field:t}=e;return(0,a.jsxs)(m.eI,{children:[(0,a.jsx)(m.lR,{children:"Urgency Level"}),(0,a.jsxs)(h.l6,{onValueChange:t.onChange,defaultValue:t.value,children:[(0,a.jsx)(m.MJ,{children:(0,a.jsx)(h.bq,{children:(0,a.jsx)(h.yv,{placeholder:"Select urgency"})})}),(0,a.jsx)(h.gC,{children:v.map(e=>(0,a.jsx)(h.eb,{value:e,className:"capitalize",children:e},e))})]}),(0,a.jsx)(m.C5,{})]})}})]}),(0,a.jsx)(m.zB,{control:q.control,name:"location",render:e=>{let{field:t}=e;return(0,a.jsxs)(m.eI,{children:[(0,a.jsx)(m.lR,{children:"Location (Area/City)"}),(0,a.jsx)(m.MJ,{children:(0,a.jsx)(x.p,{placeholder:"e.g., Dhanmondi, Dhaka",...t})}),(0,a.jsx)(m.C5,{})]})}}),(0,a.jsx)(m.zB,{control:q.control,name:"hospitalName",render:e=>{let{field:t}=e;return(0,a.jsxs)(m.eI,{children:[(0,a.jsx)(m.lR,{children:"Hospital Name (Optional)"}),(0,a.jsx)(m.MJ,{children:(0,a.jsx)(x.p,{placeholder:"e.g., Dhaka Medical College Hospital",...t})}),(0,a.jsx)(m.C5,{})]})}}),(0,a.jsx)(m.zB,{control:q.control,name:"contactInfo",render:e=>{let{field:t}=e;return(0,a.jsxs)(m.eI,{children:[(0,a.jsx)(m.lR,{children:"Your Contact Information"}),(0,a.jsx)(m.MJ,{children:(0,a.jsx)(x.p,{placeholder:"e.g., 017XX-XXXXXX or email@example.com",...t})}),(0,a.jsx)(m.Rr,{children:"A phone number or email where donors can reach you."}),(0,a.jsx)(m.C5,{})]})}}),(0,a.jsx)(m.zB,{control:q.control,name:"notes",render:e=>{let{field:t}=e;return(0,a.jsxs)(m.eI,{children:[(0,a.jsx)(m.lR,{children:"Additional Notes (Optional)"}),(0,a.jsx)(m.MJ,{children:(0,a.jsx)(f,{placeholder:"Any other relevant information, e.g., patient condition, specific timing needs (max 500 characters).",className:"resize-none",...t})}),(0,a.jsx)(m.C5,{})]})}}),(0,a.jsxs)(c.$,{type:"submit",disabled:o,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",children:[o&&(0,a.jsx)(d.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Submit Request"]})]})})})]})})]})}},9409:(e,t,r)=>{"use strict";r.d(t,{bq:()=>m,eb:()=>f,gC:()=>p,l6:()=>c,yv:()=>u});var a=r(5155),s=r(2115),l=r(83),n=r(9556),o=r(7381),i=r(518),d=r(9434);let c=l.bL;l.YJ;let u=l.WT,m=s.forwardRef((e,t)=>{let{className:r,children:s,...o}=e;return(0,a.jsxs)(l.l9,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...o,children:[s,(0,a.jsx)(l.In,{asChild:!0,children:(0,a.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=l.l9.displayName;let x=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(l.PP,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",r),...s,children:(0,a.jsx)(o.A,{className:"h-4 w-4"})})});x.displayName=l.PP.displayName;let h=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(l.wn,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",r),...s,children:(0,a.jsx)(n.A,{className:"h-4 w-4"})})});h.displayName=l.wn.displayName;let p=s.forwardRef((e,t)=>{let{className:r,children:s,position:n="popper",...o}=e;return(0,a.jsx)(l.ZL,{children:(0,a.jsxs)(l.UC,{ref:t,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:n,...o,children:[(0,a.jsx)(x,{}),(0,a.jsx)(l.LM,{className:(0,d.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,a.jsx)(h,{})]})})});p.displayName=l.UC.displayName,s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(l.JU,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...s})}).displayName=l.JU.displayName;let f=s.forwardRef((e,t)=>{let{className:r,children:s,...n}=e;return(0,a.jsxs)(l.q7,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(l.VF,{children:(0,a.jsx)(i.A,{className:"h-4 w-4"})})}),(0,a.jsx)(l.p4,{children:s})]})});f.displayName=l.q7.displayName,s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(l.wv,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",r),...s})}).displayName=l.wv.displayName}},e=>{var t=t=>e(e.s=t);e.O(0,[992,73,695,198,634,194,256,305,441,684,358],()=>t(3003)),_N_E=e.O()}]);